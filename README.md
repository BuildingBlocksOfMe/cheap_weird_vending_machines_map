# å®‰ã„è‡ªå‹•è²©å£²æ©Ÿãƒ»å¤‰ãªè‡ªå‹•è²©å£²æ©Ÿãƒãƒƒãƒ—

æ—¥æœ¬å›½å†…ã®å®‰ã„è‡ªå‹•è²©å£²æ©Ÿã‚„å¤‰ãªè‡ªå‹•è²©å£²æ©Ÿã‚’åœ°å›³ä¸Šã«å…±æœ‰ã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: React 19 + TypeScript + Vite
- **ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°**: Tailwind CSS v4
- **åœ°å›³**: Leaflet + OpenStreetMap
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: Supabase (PostgreSQL + Storage)
- **ãƒ‡ãƒ—ãƒ­ã‚¤**: Hostinger (é™çš„ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°)

## æ©Ÿèƒ½

- ğŸ—ºï¸ ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªåœ°å›³è¡¨ç¤ºï¼ˆOpenStreetMapï¼‰
- ğŸ“ è‡ªè²©æ©Ÿæƒ…å ±ã®æŠ•ç¨¿ï¼ˆä½ç½®ã€ä¾¡æ ¼ã€å†™çœŸã€ã‚³ãƒ¡ãƒ³ãƒˆï¼‰
- ğŸ” åœ°å›³ä¸Šã§è‡ªè²©æ©Ÿã®ä½ç½®ã‚’ç¢ºèª
- ğŸ“¸ å†™çœŸä»˜ãæŠ•ç¨¿
- ğŸ†“ ãƒ­ã‚°ã‚¤ãƒ³ä¸è¦ã§èª°ã§ã‚‚æŠ•ç¨¿å¯èƒ½

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

### 1. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
npm install
```

### 2. Supabase ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

Supabase ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã€ä»¥ä¸‹ã®è¨­å®šã‚’è¡Œã£ã¦ãã ã•ã„ã€‚

#### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
SQLã‚¨ãƒ‡ã‚£ã‚¿ã§ä»¥ä¸‹ã®SQLã‚’å®Ÿè¡Œã—ã¦ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚

```sql
create type vm_type as enum ('cheap', 'weird');

create table vending_machines (
  id bigint generated by default as identity primary key,
  lat double precision not null,
  lng double precision not null,
  type vm_type not null,
  price integer,
  description text,
  image_path text,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null
);

-- RLS (Row Level Security) ã®è¨­å®š
alter table vending_machines enable row level security;

-- èª°ã§ã‚‚é–²è¦§å¯èƒ½
create policy "Public vending machines are viewable by everyone."
  on vending_machines for select
  using ( true );

-- èª°ã§ã‚‚æŠ•ç¨¿å¯èƒ½ (èªè¨¼ãªã—)
create policy "Anyone can insert a new vending machine."
  on vending_machines for insert
  with check ( true );
```

#### Storage
1. `vm-photos` ã¨ã„ã†åå‰ã®æ–°ã—ã„ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒã‚±ãƒƒãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚
2. ãƒãƒªã‚·ãƒ¼è¨­å®šã§ã€`anon` ãƒ­ãƒ¼ãƒ«ã«å¯¾ã—ã¦ `SELECT` ã¨ `INSERT` ã‚’è¨±å¯ã—ã¾ã™ã€‚

### 3. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
`.env.example` ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ `.env` ã‚’ä½œæˆã—ã€Supabaseã®URLã¨Anon Keyã‚’è¨­å®šã—ã¾ã™ã€‚

```bash
cp .env.example .env
```

### 4. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•
```bash
npm run dev
```

## ãƒ‡ãƒ—ãƒ­ã‚¤ (Hostinger)

1. ãƒ“ãƒ«ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
```bash
npm run build
```

2. `dist` ãƒ•ã‚©ãƒ«ãƒ€ã®ä¸­èº«ï¼ˆ`.htaccess`ã‚’å«ã‚€ï¼‰ã‚’ Hostinger ã® `public_html` ãƒ•ã‚©ãƒ«ãƒ€ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã¨ã—ã¦å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚
